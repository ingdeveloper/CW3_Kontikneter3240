<!-- ko addAuthorizationClass: { hasNoAuthorization: hasNoAuthorization} -->
<!-- ko if: isVisible()-->
<div class="wf-alarm-viewer" data-bind="style: { height: height() ? height() + 'px' : 'auto' }">
    <div class="wf-panel" data-bind="css: panelBarCssClass">
        <!-- ko if: headerVisibility -->
        <div class="panel-heading">
            <div class="pull-right wf-panel-toolbar">

                <!-- ko if: settingsButtonVisibility() -->

                <!-- ko if: settingsAffectedUserButtonVisibility() -->
                <button type="button" data-bind="css: buttonBarCssClass, click: showAffectedUserSettings" title="{{connector.translate('I4SCADA_Settings')()}}">
                    <span class="wf wf-users"></span>
                </button>
                <!-- /ko -->

                <!-- ko if: settingsUserButtonVisibility() -->
                <button type="button" data-bind="css: buttonBarCssClass, click: showUserSettings" title="{{connector.translate('I4SCADA_Settings')()}}">
                    <span class="wf wf-user-log"></span>
                </button>
                <!-- /ko -->

                <!-- ko if: settingsServerButtonVisibility() -->
                <button type="button" data-bind="css: buttonBarCssClass, click: showServerSettings" title="{{connector.translate('I4SCADA_Settings')()}}">
                    <span class="wf wf-server"></span>
                </button>
                <!-- /ko -->

                <!-- ko if: settingsAlarmButtonVisibility() -->
                <button type="button" class="btn btn-default" data-bind="css: buttonBarCssClass, click: showAlarmSettings" title="{{connector.translate('I4SCADA_Settings')()}}">
                    <span class="wf wf-events"></span>
                </button>
                <!-- /ko -->

                <!-- ko if: settingsTimeButtonVisibility() -->
                <button type="button" data-bind="css: buttonBarCssClass, click: showTimeSettings" title="{{connector.translate('I4SCADA_Settings')()}}">
                    <span class="wf wf-clock"></span>
                </button>
                <!-- /ko -->
                <!-- /ko -->

            </div>
            <h3 class="panel-title p-r-md overflow-x-ellipsis" data-part="panelHeader">
                <span>{{connector.translate(titleText())}}</span>
            </h3>

        </div>
        <!-- /ko -->


        <div class="relative">
            <div class="panel-body p-a-0">
                <div class="overflow-y-scroll p-a-md" data-bind="style: {height: panelBodyHeight() ? panelBodyHeight() + 'px' : 'auto' }, attr: {id: 'wrap_' + id() }">
                    <div class="row">
                        <table class="table table-striped table-hover wf-table-logs">
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Time</th>
                                    <!-- <th></th> -->
                                </tr>
                            </thead>
                            <tbody data-bind="foreach:events">
                                <tr>
                                    <td>{{$parent.getEventType(Type)}}</td>
                                    <td>{{moment(Time).add('minutes', moment().utcOffset()).format('DD.MM.YYYY HH:mm:ss')}}</td>
                                    <!-- <td>{{Alarm.Group.Text.Name}}</td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div data-bind="attr: { id: 'modal-settings-alarm-container-' + id() }">
    <div class="modal fade wf-panel-settings wf-component-configuration-dialog" tabindex="-1" role="dialog" data-bind="modalDialog: {show: showAlarmSettingsDialog, draggable: isModalDialogsDraggable}, attr: { id: 'modal-alarm-settings-' + id() }"
        style="display: none;">
        <div class="modal-dialog modal-top">
            <div class="modal-content">
                <div class="modal-header  modal-primary">
                    <button style="color: rgb(255,255,255)" type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: closeAlarmSettings">&times;</button>
                    <div class="modal-title">
                        <span>{{connector.translate('I4SCADA_Settings')()}}</span>
                    </div>
                </div>

                <div class="modal-body wf-panel-settings">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>{{connector.translate('I4SCADA_Alarm_typ')()}}</label>
                                <div class="dropdown">
                                    <button type="button" class="btn btn-default form-control flexbox flexbox-v-center" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="true">
                                        {{connector.translate('I4SCADA_Alarm_typ')()}}
                                        <span class="caret m-l-sm"></span>
                                    </button>
                                    <ul class="dropdown-menu" data-bind="foreach: alarmTypes">
                                        <li>
                                            <a class="small p-x-0">
                                                <label class="block p-x-md clickable">
                                                    <input type="checkbox" data-bind="checked: $parent.selectedAlarmTypes, checkedValue: ID" /> {{SymbolicTextTranslation}}
                                                </label>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>{{connector.translate('I4SCADA_Alarm_groups')()}}</label>
                                <div class="dropdown">
                                    <button class="btn btn-default form-control flexbox flexbox-v-center" type="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="true">
                                        {{connector.translate('I4SCADA_Alarm_groups')()}}
                                        <span class="caret m-l-sm"></span>
                                    </button>
                                    <ul class="dropdown-menu" data-bind="foreach: alarmGroups">
                                        <li>
                                            <a class="small p-x-0">
                                                <label class="block p-x-md clickable">
                                                    <input type="checkbox" data-bind="checked: $parent.selectedAlarmGroups, checkedValue: ID"> {{SymbolicTextTranslation}}
                                                </label>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12">
                            <label>{{connector.translate('I4SCADA_Alarm_priority')()}}</label>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <input type="number" class="form-control" data-bind="textInput:alarmPriorityFrom">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <input type="number" class="form-control" data-bind="textInput:alarmPriorityTo">
                            </div>
                        </div>

                        <div class="col-sm-12">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterAlarmOn">{{connector.translate('I4SCADA_AlarmOn')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterAlarmOff">{{connector.translate('I4SCADA_AlarmOff')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterAlarmAcknowledged">{{connector.translate('I4SCADA_AlarmAcknowledged')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterAlarmActivated">{{connector.translate('I4SCADA_AlarmActivated')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterAlarmDeactivated">{{connector.translate('I4SCADA_AlarmDeactivated')()}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-group">
                        <button class="btn btn-default" data-bind="click: closeAlarmSettings">
                            <i class="wf wf-close-round-o"></i>
                            {{connector.translate('I4SCADA_Close')()}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="attr: { id: 'modal-settings-time-container-' + id() }">
    <div class="modal fade wf-panel-settings wf-component-configuration-dialog" tabindex="-1" role="dialog" data-bind="modalDialog: {show: showTimeSettingsDialog, draggable: isModalDialogsDraggable}, attr: { id: 'modal-time-settings-' + id() }"
        style="display: none;">
        <div class="modal-dialog modal-top">
            <div class="modal-content">
                <div class="modal-header modal-primary">
                    <button style="color: rgb(255,255,255)" type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: closeTimeSettings">&times;</button>
                    <div class="modal-title">
                        <strong>{{connector.translate('I4SCADA_Settings')()}}</strong>
                    </div>
                </div>

                <div class="modal-body wf-panel-settings">
                    <div class="row m-b-sm">
                        <div class="col-xs-12">
                            <wf-time-range class="block" params="startDateInput: startDateInput,
                                                                 endDateInput: endDateInput,
                                                                 timeRangeDateInput: timeRangeDateInput,
                                                                 selectedRangeInput: selectedRangeInput,
                                                                 startOffset: startOffset,
                                                                 startOffsetIntervall: startOffsetIntervall,
                                                                 endOffset: endOffset,
                                                                 endOffsetIntervall: endOffsetIntervall"></wf-time-range>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-primary" data-bind="click: applyTimeFilterSettings">
                        <i class="wf-lg wf-check"></i>
                        {{connector.translate('I4SCADA_Apply')()}}
                    </button>
                    <button class="btn btn-default" data-bind="click: closeTimeSettings">
                        <i class="wf wf-close-round-o"></i>
                        {{connector.translate('I4SCADA_Close')()}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="attr: { id: 'modal-settings-server-container-' + id() }">
    <div class="modal fade wf-panel-settings wf-component-configuration-dialog" tabindex="-1" role="dialog" data-bind="modalDialog: {show: showServerSettingsDialog, draggable: isModalDialogsDraggable}, attr: { id: 'modal-server-settings-' + id() }"
        style="display: none;">
        <div class="modal-dialog modal-top">
            <div class="modal-content">
                <div class="modal-header modal-primary">
                    <button style="color: rgb(255,255,255)" type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: closeServerSettings">&times;</button>
                    <div class="modal-title">
                        <strong>{{connector.translate('I4SCADA_Settings')()}}</strong>
                    </div>
                </div>

                <div class="modal-body wf-panel-settings">
                    <div class="row m-b-sm">
                        <div class="col-sm-12">

                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterServerStarted">{{connector.translate('I4SCADA_ServerStarted')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterServerStopped">{{connector.translate('I4SCADA_ServerStopped')()}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-bind="click: closeServerSettings">
                        <i class="wf wf-close-round-o"></i>
                        {{connector.translate('I4SCADA_Close')()}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="attr: { id: 'modal-settings-user-container-' + id() }">
    <div class="modal fade wf-panel-settings wf-component-configuration-dialog" tabindex="-1" role="dialog" data-bind="modalDialog: {show: showUserSettingsDialog, draggable: isModalDialogsDraggable}, attr: { id: 'modal-user-settings-' + id() }"
        style="display: none;">
        <div class="modal-dialog modal-top">
            <div class="modal-content">
                <div class="modal-header modal-primary">
                    <button style="color: rgb(255,255,255)" type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: closeUserSettings">&times;</button>
                    <div class="modal-title">
                        <strong>{{connector.translate('I4SCADA_Settings')()}}</strong>
                    </div>
                </div>

                <div class="modal-body wf-panel-settings">
                    <div class="row m-b-sm">
                        <div class="col-sm-12">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserLoggedIn">{{connector.translate('I4SCADA_UserLoggedIn')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserLoggedOut">{{connector.translate('I4SCADA_UserLoggedOut')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserWroteSignal">{{connector.translate('I4SCADA_UserWroteSignal')()}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-bind="click: closeUserSettings">
                        <i class="wf wf-close-round-o"></i>
                        {{connector.translate('I4SCADA_Close')()}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="attr: { id: 'modal-settings-affecteduser-container-' + id() }">
    <div class="modal fade wf-panel-settings wf-component-configuration-dialog" tabindex="-1" role="dialog" data-bind="modalDialog: {show: showAffectedUserSettingsDialog, draggable: isModalDialogsDraggable}, attr: { id: 'modal-affecteduser-settings-' + id() }"
        style="display: none;">
        <div class="modal-dialog modal-top">
            <div class="modal-content">
                <div class="modal-header modal-primary">
                    <button style="color: rgb(255,255,255)" type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: closeAffectedUserSettings">&times;</button>
                    <div class="modal-title">
                        <strong>{{connector.translate('I4SCADA_Settings')()}}</strong>
                    </div>
                </div>

                <div class="modal-body wf-panel-settings">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label>{{connector.translate('I4SCADA_Custom_user_name_filter')()}}</label>
                                <input type="text" class="form-control" data-bind="textInput: customUserNameFilter">
                            </div>
                        </div>
                    </div>
                    <div class="row m-b-sm">
                        <div class="col-sm-12">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserCreated">{{connector.translate('I4SCADA_UserCreated')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserModified">{{connector.translate('I4SCADA_UserModified')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserDeleted">{{connector.translate('I4SCADA_UserDeleted')()}}</label>
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" data-bind="checked:filterUserPasswordChanged">{{connector.translate('I4SCADA_UserPasswordChanged')()}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-bind="click: closeAffectedUserSettings">
                        <i class="wf wf-close-round-o"></i>
                        {{connector.translate('I4SCADA_Close')()}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- /ko -->
<!-- /ko -->




<!-- <div class="row">
    <div class="col-sm-6  col-md-6 col-lg-6">
        <label>{{connector.translate('I4SCADA_Time_range_from')()}}</label>
        <div class="form-group">
            <div class="input-group date" data-bind="datepicker: startDate, datepickerOptions: { locale: 'de' }">
                <input type="text" class="form-control" />
                <span class="input-group-addon">
                    <span class="wf wf-clock"></span>
                </span>
            </div>
        </div>
    </div>

    <div class="col-sm-6  col-md-6 col-lg-6">
        <label>{{connector.translate('I4SCADA_Time_range_to')()}}</label>
        <div class="form-group">
            <div class="input-group date" data-bind="datepicker: endDate, datepickerOptions: { locale: 'de' }">
                <input type="text" class="form-control" />
                <span class="input-group-addon">
                    <span class="wf wf-clock"></span>
                </span>
            </div>
        </div>
    </div>
</div> -->