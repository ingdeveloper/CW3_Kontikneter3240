<!--
 ********************************************
 * View für das modale Fenster Rezept Logs  *
 ********************************************
 -->
<style>
  .panel-body {
    padding: 0px;
    padding-bottom: 1%;
  }

  .panel-body td {
    white-space: normal;
    word-wrap: break-word;
    max-width: 20em;
  }

  .fallout {
    visibility: hidden;
    color: #ff6347;
    position: absolute;
    bottom: 3.5em;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
  }

  .modal-header {
    background-color: dodgerblue;
  }

  .modal-title {
    color: white;
  }
</style>

<div class="modal">
  <div class="modal-dialog modal-top" style="width: 90vmax;">
    <div class="modal-content" data-bind="ccwDraggable:{}, dragId: 'rez_history', BGclose: false, ESCclose: true">
      <!-- header -->
      <div class="modal-header" id="rez_history">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" data-bind="click: close">
          &times;
        </button>
        <h4 class="modal-title">
          <i class="wf-lg wf-article"></i>
          <span>Rezepdialog Logbuch</span>
        </h4>
      </div>
      <!-- body -->
      <div class="panel-body" data-bind="attr: { id: idLogTable }">
        <div style="overflow:auto; max-width: 100%; box-sizing: content-box; max-height: 40vmax;">
          <table class="table table-bordered table-hover table-rezept">
            <thead data-bind="template: { name: 'headTplLogListe_' + uid(), foreach: logListeHead }">
            </thead>
            <tbody data-bind="template: { name: 'rowTplLogListe_' + uid(), foreach: logListeRows }"></tbody>
          </table>
        </div>
      </div>
      <div class="panel-footer">
        <p class="fallout">Für den ausgewählten Zeitraum wurden keine Einträge gefunden. Bitte passen Sie den Zeitraum
          an.</p>
        <form data-bind="submit: GetLog">
          <table style="width: -webkit-fill-available;">
            <tr>
              <td style="float: left; padding-right: 0%;" class="col-sm-5 col-lg-3">
                <div class='input-group date' data-bind="attr: { id: idDtPickerLogStart}">
                  <span class="input-group-addon">&ensp;Start&emsp;</span>
                  <input class="form-control" title="Logstart" type="datetime" required>
                  <span class="input-group-addon" style="border-left: 0ch;">
                    <i class="wf wf-clock-o"></i>
                  </span>
                  <span class="input-group-btn">
                    <button class="btn addon" type="button" data-bind="click:DateTimeUtil.setStart"
                      title="aktuelles Datum/-Uhrzeit übernehmen">
                      <i class="wf-lg wf-target" style="font-size: small;"></i>
                    </button>
                  </span>
                </div>
              </td>
              <td style="float: left; padding-right: 0%;" class="col-sm-5 col-lg-3">
                <div class='input-group date' data-bind="attr: { id: idDtPickerLogStop}">
                  <span class="input-group-addon">&ensp;Stopp&ensp;</span>
                  <input class="form-control" title="Logende" type="datetime" required>
                  <span class="input-group-addon" style="border-left: 0ch;">
                    <i class="wf wf-clock-o"></i>
                  </span>
                  <span class="input-group-btn">
                    <button class="btn addon" type="button" data-bind="click:DateTimeUtil.setStop"
                      title="aktuelles Datum/-Uhrzeit übernehmen">
                      <i class="wf-lg wf-target" style="font-size: small;"></i>
                    </button>
                  </span>
                </div>
              </td>
              <td style="float: right;">
                <div id="LogRange" style="display: inline;"></div>
                <div class="rezspinner" data-bind="css: { active: logBusy }">
                  <i class="fa fa-spinner"></i>
                </div>
                <button type="submit" class="btn btn-default" style="color:dodgerblue;" title="Aktualisieren">
                  <i class="fa fa-refresh"></i>
                </button>
              </td>
            </tr>
          </table>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Head-Template Logbuch -->
<script type="text/html" data-bind="attr: { id: 'headTplLogListe_' + uid() }">
          <tr data-bind="foreach: cells">
              <th data-bind="text: $data" class="active" style="position: sticky;top: 0;"></th>
          </tr>
</script>
<!-- Zeilen/Zellen-Template Logbuch -->
<script type="text/html" data-bind="attr: { id: 'rowTplLogListe_' + uid() }">
          <tr data-bind="foreach: cells, attr:{id: cells[0]}">
              <td data-bind="text: $data"></td>
          </tr>
</script>